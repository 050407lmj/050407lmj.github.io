<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>JIM ¬∑ Neo-Cyber</title>
  <style>
    :root{
      --primary:#00f2ff;
      --bg:#0a0e1a;
      --text:#e6f7ff;
      --grid:rgba(0,242,255,.07);
      --glow:0 0 10px rgba(0,242,255,.8)
    }
    [data-theme="light"]{
      --primary:#ff00c1;
      --bg:#f0f4f8;
      --text:#0f172a;
      --grid:rgba(255,0,193,.07);
      --glow:0 0 10px rgba(255,0,193,.8)
    }
    *{box-sizing:border-box;margin:0}
    body{background:var(--bg);color:var(--text);font-family:Inter,system-ui;overflow:hidden}
    canvas#cyber{position:fixed;inset:0;z-index:-9}
    nav{position:fixed;top:0;left:0;right:0;display:flex;align-items:center;justify-content:space-between;padding:18px 5%;backdrop-filter:blur(12px);background:rgba(10,14,26,.4);border-bottom:1px solid var(--primary)}
    .logo{font-size:1.5rem;font-weight:700;letter-spacing:2px;text-shadow:var(--glow)}
    main{height:100vh;display:flex;align-items:center;justify-content:center;text-align:center}
    h1{font-size:clamp(3rem,8vw,5rem);letter-spacing:6px;background:linear-gradient(90deg,var(--primary),#fff,var(--primary));background-size:200% auto;color:transparent;-webkit-background-clip:text;background-clip:text;animation:shine 3s linear infinite;text-shadow:var(--glow)}
    @keyframes shine{to{background-position:200% center}}
  </style>
</head>
<body data-theme="dark">
<canvas id="cyber"></canvas>
<nav>
  <div class="logo">JIM</div>
  <button id="themeBtn" style="background:transparent;border:1px solid var(--primary);color:var(--primary);padding:6px 12px;border-radius:4px;cursor:pointer">üåì</button>
</nav>
<main><h1 id="typed">JIM</h1></main>

<script>
/* ÊâìÂ≠óÊú∫ */
const txts=["JIM","Neo-Cyber","Fluid Light","Pure Math"];
let i=0,j=0,del=false;
function type(){
  const cur=txts[i];
  if(!del&&j<=cur.length)typed.textContent=cur.substring(0,j++);
  else if(del&&j>=0)typed.textContent=cur.substring(0,j--);
  else{del=!del;if(!del)i=(i+1)%txts.length}
  setTimeout(type,180);
}
type();

/* WebGL ÈúìËôπÊµÅ‰Ωì */
const gl=document.getElementById('cyber').getContext('webgl2',{alpha:false,antialias:true,powerPreference:'high-performance'});
if(!gl)alert('WebGL2 unsupported');
const canvas=gl.canvas;
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;gl.viewport(0,0,canvas.width,canvas.height);}
resize();addEventListener('resize',resize);

const vert=`#version 300 es
in vec2 a;
void main(){gl_Position=vec4(a,0,1);}`;
const frag=`#version 300 es
precision highp float;
uniform float t;
uniform vec2 r;
uniform vec2 m;
out vec4 o;
// ÊóãËΩ¨
mat2 rot(float a){float c=cos(a),s=sin(a);return mat2(c,-s,s,c);}
// Ê∏êÂèòÂô™Â£∞
float hash(vec2 p){return fract(sin(dot(p,vec2(127.1,311.7)))*43758.5453);}
float noise(vec2 p){
  vec2 i=floor(p),f=fract(p);
  float a=hash(i),b=hash(i+vec2(1,0)),c=hash(i+vec2(0,1)),d=hash(i+vec2(1,1));
  vec2 u=f*f*(3.-2.*f);
  return mix(mix(a,b,u.x),mix(c,d,u.x),u.y);
}
float fbm(vec2 p){
  float v=0.;float a=.5;
  for(int i=0;i<5;i++){v+=a*noise(p);p*=2.;a*=.5;}
  return v;
}
// ‰∏ªËâ≤Âæ™ÁéØ
vec3 hsl2rgb(vec3 c){
  vec3 rgb=clamp(abs(mod(c.x*6.+vec3(0,4,2),6.)-3.)-1.,0.,1.);
  return c.z+c.y*(rgb-.5)*(1.-abs(2.*c.z-1.));
}
void main(){
  vec2 uv=(gl_FragCoord.xy*2.-r)/min(r.x,r.y);
  vec2 mu=(m*2.-r)/min(r.x,r.y);
  // Ê∂≤ÊÄÅÂΩ¢Âèò
  vec2 tuv=uv*rot(t*.1);
  tuv+=fbm(uv*3.+t)*.3;
  tuv+=fbm(uv*5.-t*.7)*.15;
  // ÂæÑÂêëÂΩ©Ëôπ
  float d=length(tuv-mu);
  float hue=d*1.5-t*.2;
  vec3 col=hsl2rgb(vec3(hue,.9,.6));
  // È´òÊñØÂÖâÊôï
  float glow=exp(-d*3.)*.8;
  col+=hsl2rgb(vec3(hue+.3,1.,.5))*glow;
  o=vec4(col,1);
}`;

function compile(src,type){
  const s=gl.createShader(type);
  gl.shaderSource(s,src);
  gl.compileShader(s);
  if(!gl.getShaderParameter(s,gl.COMPILE_STATUS))console.error(gl.getShaderInfoLog(s));
  return s;
}
const prog=gl.createProgram();
gl.attachShader(prog,compile(vert,gl.VERTEX_SHADER));
gl.attachShader(prog,compile(frag,gl.FRAGMENT_SHADER));
gl.linkProgram(prog);
gl.useProgram(prog);

const buf=gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER,buf);
gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),gl.STATIC_DRAW);
const loc=gl.getAttribLocation(prog,'a');
gl.enableVertexAttribArray(loc);
gl.vertexAttribPointer(loc,2,gl.FLOAT,false,0,0);

const ut=gl.getUniformLocation(prog,'t');
const ur=gl.getUniformLocation(prog,'r');
const um=gl.getUniformLocation(prog,'m');

let mx=0,my=0;
canvas.addEventListener('mousemove',e=>{
  mx=e.clientX;my=canvas.height-e.clientY;
});

let start=performance.now();
function frame(){
  const t=(performance.now()-start)/1000;
  gl.uniform1f(ut,t);
  gl.uniform2f(ur,canvas.width,canvas.height);
  gl.uniform2f(um,mx,my);
  gl.drawArrays(gl.TRIANGLE_STRIP,0,4);
  requestAnimationFrame(frame);
}
frame();

themeBtn.onclick=()=>document.documentElement.toggleAttribute("data-theme");
</script>
</body>
</html>
